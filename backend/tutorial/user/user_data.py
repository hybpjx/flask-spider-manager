from werkzeug.security import generate_password_hash

# ...
USERS = [
    {
        "id": 1,
        "name": 'admin',
        "password": generate_password_hash('123')
    },
    {
        "id": 2,
        "name": 'tom',
        "password": generate_password_hash('123')
    }
]

from werkzeug.security import generate_password_hash
import uuid


# ...
def create_user(user_name, password):
    """创建一个用户"""
    user = {
        "name": user_name,
        "password": generate_password_hash(password),
        "id": uuid.uuid4(),
    }
    USERS.append(user)


def get_user(user_name):
    """根据用户名获得用户记录"""
    for user in USERS:
        if user.get("name") == user_name:
            return user
    return None
